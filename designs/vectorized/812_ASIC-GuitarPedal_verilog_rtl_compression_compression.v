// Generated by CIRCT unknown git version
module compression(	// file.cleaned.mlir:2:3
  input  [7:0]  threshold,	// file.cleaned.mlir:2:29
                ratio,	// file.cleaned.mlir:2:49
  input  [15:0] audio_in,	// file.cleaned.mlir:2:65
  output [15:0] audio_out	// file.cleaned.mlir:2:86
);

  wire [15:0] _GEN = {threshold, 8'h0};	// file.cleaned.mlir:6:14, :7:10
  wire [15:0] _GEN_0 = _GEN * 16'hFFFF;	// file.cleaned.mlir:4:16, :7:10, :9:10
  wire [15:0] audio_excesspos = audio_in - _GEN;	// file.cleaned.mlir:7:10, :10:10
  wire [15:0] audio_excessneg = _GEN_0 - audio_in;	// file.cleaned.mlir:9:10, :11:10
  wire [23:0] _GEN_1 = {16'h0, ratio};	// file.cleaned.mlir:5:15, :13:10
  wire [23:0] audio_excessPosTimeRatio23 = {8'h0, audio_excesspos} * _GEN_1;	// file.cleaned.mlir:6:14, :10:10, :12:10, :13:10, :14:10
  wire [23:0] audio_excessNegTimeRatio23 = {8'h0, audio_excessneg} * _GEN_1;	// file.cleaned.mlir:6:14, :11:10, :13:10, :15:10, :16:10
  assign audio_out =
    ~(audio_in[15])
      ? (~(audio_excesspos[15]) ? _GEN + audio_excessPosTimeRatio23[23:8] : audio_in)
      : ~(audio_in[15]) | audio_excessneg[15]
          ? audio_in
          : _GEN_0 - audio_excessNegTimeRatio23[23:8];	// file.cleaned.mlir:7:10, :9:10, :10:10, :11:10, :14:10, :16:10, :17:11, :18:11, :19:11, :20:11, :21:11, :22:11, :23:11, :24:11, :25:11, :26:11, :28:11, :29:11, :30:11, :31:5
endmodule

